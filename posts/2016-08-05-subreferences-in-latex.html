<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>nbloomf.blog - Subreferences in LaTeX</title>
<link rel="stylesheet" type="text/css" href="../css/default.css" />
<link rel="icon" href="../raw/gfx/icon/favicon-32.png" />
<link rel="apple-touch-icon-precomposed" sizes="57x57" href="../raw/gfx/icon/favicon-57.png" />
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../raw/gfx/icon/favicon-114.png" />
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../raw/gfx/icon/favicon-152.png" />
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</head>

<body>
<div id="header">
  <div id="logo">
    <a href="../index.html">nbloomf</a>
  </div>
  <div id="navigation">
    <a href="../index.html">Home</a>
    <a href="../pages/about.html">About</a>
    <a href="../pages/projects.html">Projects</a>
    <a href="../pages/contact.html">Contact</a>
    <a href="../archive.html">Blog</a>
  </div>
</div>

<div id="content">
<h1>Subreferences in LaTeX</h1>
<!-- BEGIN BODY -->


<div class="info">
Posted on 2016-08-05 by nbloomf
</div>


<div class="info tags">Tags: <a href="../tag/latex.html">latex</a></div>


<p>This post is a note to myself about cross references in LaTeX. So if that’s your thing, read on. :)</p>
<p>LaTeX makes cross references in large documents super easy. For instance, say we have a theorem we’d like to refer to later by number. This is done with <code>\label{}</code> and <code>\ref{}</code>.</p>
<div class="sourceCode"><pre class="sourceCode latex"><code class="sourceCode latex"><span class="kw">\begin</span>{<span class="ex">theorem</span>}<span class="kw">\label</span>{<span class="ex">thm</span>}
Lorem ipsum dolor sit amet, consectetur
adipiscing elit.
<span class="kw">\end</span>{<span class="ex">theorem</span>}
    
Proof of Theorem <span class="kw">\ref</span>{<span class="ex">thm</span>} left to the reader.</code></pre></div>
<p>There’s a particular style of cross references for multi-part theorems that I particularly like. I’m sure it’s very old, but I first saw it used in J. D. Monk’s <em>Introduction to Set Theory</em>. In this style, theorems are numbered with Arabic numerals (1, 2, etc.) while their parts are numbered with small Roman numerals (i, ii, etc.). So in the text we might see something like this.</p>
<pre><code>Theorem 5. Lorem ipsum dolor sit amet,
consectetur adipiscing elit.
   (i) Foo.
  (ii) Bar.
 (iii) Baz.</code></pre>
<p>Then the text may later refer to this entire unit as “Theorem 5”, or to a single part as “5(ii)”. But if the proof of Theorem 5 is given in the text we don’t need to qualify the parts of this theorem – within the proof a reference like “(ii)” is unambiguous.</p>
<p>The problem is how to implement cross references like this with LaTeX simply and without polluting the label namespace too much. I’m sure anyone with more than a passing interest in LaTeX could figure it out, but here’s my solution. It does require some label discipline and the <code>enumitem</code> package.</p>
<p>We can label the theorem with <code>thm:lorem</code> and then the parts with <code>thm:lorem:foo</code>, <code>thm:lorem:bar</code>, and <code>thm:lorem:baz</code>. Now <code>\ref{thm:lorem}</code> refers to the theorem counter, while <code>\ref{thm:lorem:bar}</code> refers to the enumerate counter. We can refer to a specific part with <code>\ref{thm:lorem}\ref{thm:lorem:bar}</code>. This is redundant, but if we’re disciplined with qualifying labels we can use an additional command like</p>
<div class="sourceCode"><pre class="sourceCode latex"><code class="sourceCode latex"><span class="fu">\newcommand</span>{<span class="ex">\sref</span>}[2]{<span class="kw">\ref</span>{<span class="ex">#1</span>}<span class="kw">\ref</span>{<span class="ex">#1:#2</span>}}</code></pre></div>
<p>and say <code>\sref{thm:lorem}{bar}</code> instead.</p>
<p>Here’s a minimal working example.</p>
<hr />
<div class="sourceCode"><pre class="sourceCode latex"><code class="sourceCode latex"><span class="bu">\documentclass</span>{<span class="ex">article</span>}

<span class="bu">\usepackage</span>{<span class="ex">amsthm</span>}
<span class="bu">\usepackage</span>{<span class="ex">enumitem</span>}

<span class="co">% Define theorem environment</span>
<span class="fu">\theoremstyle</span>{definition}
<span class="fu">\newtheorem</span>{theorem}{Theorem}

<span class="co">% Style enumerate counter</span>
<span class="fu">\setlist</span>[enumerate]{label=(<span class="fu">\roman</span>*)}

<span class="co">% Subreferences</span>
<span class="fu">\newcommand</span>{<span class="ex">\sref</span>}[2]{<span class="kw">\ref</span>{<span class="ex">#1</span>}<span class="kw">\ref</span>{<span class="ex">#1:#2</span>}}



<span class="kw">\begin</span>{<span class="ex">document</span>}

<span class="kw">\begin</span>{<span class="ex">theorem</span>}<span class="kw">\label</span>{<span class="ex">thm:lorem</span>}
Lorem ipsum dolor sit amet, consectetur adipiscing elit.
<span class="kw">\begin</span>{<span class="ex">enumerate</span>}
  <span class="fu">\item</span><span class="kw">\label</span>{<span class="ex">thm:lorem:foo</span>} Foo.
  <span class="fu">\item</span><span class="kw">\label</span>{<span class="ex">thm:lorem:bar</span>} Bar.
  <span class="fu">\item</span><span class="kw">\label</span>{<span class="ex">thm:lorem:baz</span>} Baz.
<span class="kw">\end</span>{<span class="ex">enumerate</span>}
<span class="kw">\end</span>{<span class="ex">theorem</span>}

We can refer to the entire Theorem <span class="kw">\ref</span>{<span class="ex">thm:lorem</span>},
to a single qualified part like <span class="fu">\sref</span>{thm:lorem}{bar},
or a single unqualified part like <span class="kw">\ref</span>{<span class="ex">thm:lorem:baz</span>}.

<span class="kw">\end</span>{<span class="ex">document</span>}</code></pre></div>

<!-- END BODY -->
</div>

<div id="footer">
  Site generated by
  <a href="http://jaspervdj.be/hakyll">Hakyll</a>
</div>
</body>
</html>
